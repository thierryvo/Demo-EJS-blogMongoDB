<!-- ===============================================================================================
// ESJ01_CRUD  /  dossier: C:\WORK\NODEJS\ESJ01_CRUD  /  fichier: views/soumettre-recettes.ejs
// ============================================================================================= -->
<!-- dans body: PAGE rendu par le routeur recetteRoutes, fonction soumettreUneRecette            -->
<div class="px-4 py-5 my-5 text-center">
  <h1 class="display-5 fw-bold">Soumettez votre recette</h1>
  <div class="col-lg-6 mx-auto">
    <p class="lead">Partagez vos recettes dans notre base de recettes. Remplissez notre formulaire pour commencer.</p>
  </div>
</div>

<div class="row justify-content-center">

  <!-- MESSGE D 'INFORMATION -->
  <!-- SI objet infoSubmitObj : sucess messages -->
  <% if(infoSubmitObj != '') { %>
    <div class="col-8 alert alert-success" role="alert">
      <%= infoSubmitObj %>
    </div>
  <% } %>

  <!-- MESSGE D 'ERREURS (catch) -->
  <!-- SI objet infoErrorsObj : alert-danger messages -->
  <% if(infoErrorsObj != '') { %>
    <div class="col-8 alert alert-danger" role="alert">
      <%= infoErrorsObj[0].message %>
    </div>
  <% } %>

  <!-- div Formulaire de SAISIE & POST d'une recette  -->
  <div class="col-8">
    <form enctype="multipart/form-data" action="<%= urlPostSoumettreRecette %>" method="POST">
      <div class="row g-3">
        <!-- nom -->
        <div class="col-12">
          <label for="nom" class="form-label">Nom de la recette</label>
          <input type="text" name="nom" id="nom" class="form-control" required>
        </div>
        <!-- description (zone-de-texte) -->
        <div class="col-12">
          <label for="description" class="form-label">Description</label>
          <textarea name="description" id="description" class="form-control" cols="30" rows="4"></textarea>
        </div>
        <!-- email -->
        <div class="col-12">
          <label for="email" class="form-label">Email</label>
          <input type="email" name="email" id="email" class="form-control">
        </div>
        <!-- ==================================================== -->
        <!-- tableau des ingrédiants ---------------------------- -->
        <div class="col-12">
          <label for="name" class="form-label">Ajouter les ingrédients un par un</label><br>
          <small>Exemple: sucre</small>
          <!-- DEBUT div liste ingrédients : somme ( itemIngredientDuppliquer ) doit constituer tabIngrediants -->
          <div class="ingredientList">
            <!-- ingredeintDiv est un ingrédients duppliqué ? -->
            <div class="ingredeintDiv mb-1">
              <input type="text" name="tabIngrediants" class="form-control">
            </div>
          </div>
          <!-- FIN   div liste ingrédients -->
        </div>
        <!-- bouton MAGIQUE add ingédiant (ajoute une input ingrédiant!) -->
        <div class="col-12">
          <button type="button" class="btn btn-outline-primary" id="addIngredientsBtn">+ ADD Ingredient</button>
        </div>
        <!-- ==================================================== -->

        <!-- selecteur de catégorie -->
        <div class="col-12">
          <label for="categorie">Select Catéforie</label>
          <select class="form-select form-control" name="categorie" aria-label="Category">
            <option selected>Selectionner une catégorie</option>
            <option value="Dessert">Dessert</option>
            <option value="Francais">Francais</option>
            <option value="Thai">Thai</option>
            <option value="American">American</option>
            <option value="Chinese">Chinese</option>
            <option value="Mexican">Mexican</option>
            <option value="Indian">Indian</option>
          </select>
        </div>
        <!-- image de type file -->
        <div class="col-12">
          <label for="image">Product Image</label>
          <input type="file" class="form-control" name="image" accept="image/*">
        </div>
        <!-- BOUTON de SOUMISSION -->
        <div class="col-12">
          <button type="submit" class="btn btn-primary">Soumettre la recette</button>
        </div>
      </div>
    </form>
  </div>

</div>